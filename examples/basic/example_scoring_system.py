"""
نمایش سیستم امتیازدهی

توضیح مختصر با مثال‌های عملی
"""

print("\n" + "="*80)
print("📊 سیستم امتیازدهی در Gravity Tech Analysis")
print("="*80)

print("""
┌─────────────────────────────────────────────────────────────────┐
│                    🎯 بازه امتیازها                            │
│                                                                 │
│  -1.0 ◄────────────────── 0 ──────────────────► +1.0          │
│  نزولی قوی              خنثی                 صعودی قوی          │
│                                                                 │
│  ┌─────────┬──────────────┬────────────────────────────┐      │
│  │ امتیاز  │ معنی         │ توصیه                      │      │
│  ├─────────┼──────────────┼────────────────────────────┤      │
│  │ +0.8~+1.0│ بسیار صعودی │ 🟢🟢 STRONG BUY           │      │
│  │ +0.5~+0.8│ صعودی قوی   │ 🟢 BUY                    │      │
│  │ +0.2~+0.5│ صعودی ضعیف  │ 🟡 ACCUMULATE             │      │
│  │ -0.2~+0.2│ خنثی         │ ⚪ HOLD                    │      │
│  │ -0.5~-0.2│ نزولی ضعیف  │ 🟠 TAKE PROFIT            │      │
│  │ -0.8~-0.5│ نزولی قوی   │ 🔴 SELL                   │      │
│  │-1.0~-0.8 │ بسیار نزولی │ 🔴🔴 STRONG SELL          │      │
│  └─────────┴──────────────┴────────────────────────────┘      │
└─────────────────────────────────────────────────────────────────┘
""")

print("─" * 80)
print("1️⃣  امتیازدهی در سطح اندیکاتور")
print("─" * 80)

print("""
الف) اندیکاتورهای روند (10 اندیکاتور):
═══════════════════════════════════════

  1. SMA/EMA/WMA/DEMA/TEMA:
     • بر اساس اختلاف قیمت از میانگین متحرک
     • محدوده: [-1, +1]
     
     مثال:
       قیمت = $50,000, SMA(20) = $48,000
       اختلاف = +4.17%
       → امتیاز = +0.7 (صعودی)

  2. MACD:
     • بر اساس Histogram و جهت آن
     • محدوده: [-1, +1]
     
     مثال:
       Histogram = +30 (در حال افزایش)
       → امتیاز = +1.0 (بسیار صعودی)

  3. ADX:
     • قدرت روند × جهت روند
     • محدوده: [-1, +1]
     
     مثال:
       ADX = 35, +DI > -DI
       → امتیاز = +0.7 (صعودی قوی)

  4. SAR/Supertrend/Ichimoku:
     • مقایسه قیمت با سطوح
     • امتیاز: +1.0 یا -1.0
     
     مثال:
       قیمت بالای SAR
       → امتیاز = +1.0
""")

print("""
ب) اندیکاتورهای مومنتوم (8 اندیکاتور):
════════════════════════════════════════

  1. RSI (0-100):
     • Overbought/Oversold
     • محدوده: [-1, +1]
     
     مثال:
       RSI = 65
       → امتیاز = +0.7 (صعودی قوی)

  2. Stochastic (0-100):
     • بر اساس %K
     • محدوده: [-1, +1]
     
     مثال:
       %K = 70
       → امتیاز = +0.7

  3. CCI (-200 تا +200):
     • قدرت مومنتوم
     • محدوده: [-1, +1]
     
     مثال:
       CCI = 150
       → امتیاز = +1.0

  4-8. Williams %R, ROC, Momentum, OBV, CMF
     • هر کدام با فرمول خاص خود
     • محدوده: [-1, +1]
""")

print("─" * 80)
print("2️⃣  امتیازدهی در سطح دسته (Category)")
print("─" * 80)

print("""
امتیاز کل = Σ(امتیاز × اعتماد) / Σ(اعتماد)

مثال برای روند (10 اندیکاتور):
══════════════════════════════════

  SMA:        +0.7 × 0.80 = 0.560
  EMA:        +0.7 × 0.85 = 0.595
  MACD:       +1.0 × 0.88 = 0.880
  ADX:        +0.7 × 0.90 = 0.630
  SAR:        +1.0 × 0.75 = 0.750
  Supertrend: +1.0 × 0.80 = 0.800
  Ichimoku:   +1.0 × 0.85 = 0.850
  WMA:        +0.7 × 0.70 = 0.490
  DEMA:       +0.7 × 0.75 = 0.525
  TEMA:       +0.7 × 0.78 = 0.546
  ─────────────────────────────────
  مجموع:              6.626
  مجموع اعتماد:       7.96
  
  → Trend Score = 6.626 / 7.96 = 0.832 ✅
  → Trend Confidence = 7.96 / 10 = 0.796 (80%) ✅

مثال برای مومنتوم (8 اندیکاتور):
═══════════════════════════════════

  RSI:        +0.7 × 0.75 = 0.525
  Stochastic: +0.7 × 0.70 = 0.490
  CCI:        +1.0 × 0.80 = 0.800
  Williams:   +0.7 × 0.70 = 0.490
  ROC:        +0.5 × 0.65 = 0.325
  Momentum:   +0.5 × 0.65 = 0.325
  OBV:        +0.8 × 0.75 = 0.600
  CMF:        +0.6 × 0.70 = 0.420
  ─────────────────────────────────
  مجموع:              3.975
  مجموع اعتماد:       5.70
  
  → Momentum Score = 3.975 / 5.70 = 0.697 ✅
  → Momentum Confidence = 5.70 / 8 = 0.713 (71%) ✅
""")

print("─" * 80)
print("3️⃣  امتیازدهی Multi-Horizon (چند افقی)")
print("─" * 80)

print("""
هر افق زمانی امتیاز مستقل دارد:

  ┌──────┬─────────────────────────────────────────┐
  │ افق  │ محدوده امتیاز                          │
  ├──────┼─────────────────────────────────────────┤
  │  3d  │ [-1, +1] - کوتاه‌مدت (Day Trading)     │
  │  7d  │ [-1, +1] - میان‌مدت (Swing Trading)   │
  │  30d │ [-1, +1] - بلندمدت (Position Trading) │
  └──────┴─────────────────────────────────────────┘

مثال عملی Bitcoin:
═══════════════════

  روند:
    3d:  +0.85 (صعودی قوی)     - اعتماد 85%
    7d:  +0.75 (صعودی)          - اعتماد 82%
    30d: +0.60 (صعودی)          - اعتماد 78%

  مومنتوم:
    3d:  -0.20 (ضعیف نزولی)    - اعتماد 70%
    7d:  +0.30 (صعودی ضعیف)    - اعتماد 68%
    30d: +0.55 (صعودی)          - اعتماد 72%

  ترکیب (وزن 50-50):
    3d:  +0.325 (صعودی ضعیف)   - اعتماد 78%
    7d:  +0.525 (صعودی)         - اعتماد 75%
    30d: +0.575 (صعودی)         - اعتماد 75%

تفسیر:
  ✅ روند بلندمدت صعودی قوی
  ⚠️ مومنتوم کوتاه‌مدت ضعیف (احتمال اصلاح)
  💡 Day Trader: صبر برای اصلاح
  💡 Swing/Position Trader: نگهداری
""")

print("─" * 80)
print("4️⃣  سطح اعتماد (Confidence)")
print("─" * 80)

print("""
بازه اعتماد: [0, 1]

  ┌────────────┬──────────┬─────────────────────────┐
  │ بازه       │ کیفیت    │ معنی                    │
  ├────────────┼──────────┼─────────────────────────┤
  │ 0.9 - 1.0  │ عالی     │ همه هم‌راستا           │
  │ 0.8 - 0.9  │ بالا     │ اکثریت قاطع           │
  │ 0.7 - 0.8  │ خوب      │ اکثریت                │
  │ 0.6 - 0.7  │ متوسط    │ توافق نسبی            │
  │ 0.5 - 0.6  │ ضعیف     │ اختلاف نظر زیاد        │
  │ < 0.5      │ خیلی ضعیف│ سیگنال‌های متناقض      │
  └────────────┴──────────┴─────────────────────────┘

محاسبه اعتماد:
═══════════════

  در سطح اندیکاتور:
    • بر اساس شیب، قدرت، و ثبات
    • مثال SMA: 0.6 + |slope| × 100
    
  در سطح دسته:
    • میانگین اعتماد اندیکاتورها
    • مثال: (0.8+0.85+0.88+...+0.78) / 10 = 0.796
""")

print("─" * 80)
print("5️⃣  مثال کامل عملی")
print("─" * 80)

print("""
وضعیت: Bitcoin @ $50,000
═══════════════════════════

📊 نتایج اندیکاتورها:
  Trend Score:     +0.83 (صعودی قوی)     - اعتماد 80%
  Momentum Score:  +0.70 (صعودی)          - اعتماد 71%

📈 نتایج Multi-Horizon:
  ┌──────┬────────┬──────────┬─────────┬──────────────┐
  │ افق  │ روند  │ مومنتوم  │ ترکیب   │ توصیه        │
  ├──────┼────────┼──────────┼─────────┼──────────────┤
  │  3d  │ +0.85  │  -0.20   │ +0.325  │ ACCUMULATE   │
  │  7d  │ +0.75  │  +0.30   │ +0.525  │ BUY          │
  │  30d │ +0.60  │  +0.55   │ +0.575  │ BUY          │
  └──────┴────────┴──────────┴─────────┴──────────────┘

💡 تفسیر نهایی:
  ✅ روند کلی صعودی است
  ⚠️ مومنتوم کوتاه‌مدت ضعیف
  
  → Day Trader (3d):
    اصلاح کوتاه‌مدت محتمل
    صبر برای نقطه ورود بهتر
  
  → Swing Trader (7d):
    خرید در اصلاح یا نگهداری
    روند میان‌مدت مثبت
  
  → Position Trader (30d):
    نگهداری قوی
    روند بلندمدت صعودی
""")

print("\n" + "="*80)
print("📋 فرمول‌های کلیدی")
print("="*80)

print("""
1. امتیاز اندیکاتور:
   Score = f(indicator_value)  [-1, +1]

2. امتیاز دسته:
   Category_Score = Σ(Score_i × Confidence_i) / Σ(Confidence_i)

3. اعتماد دسته:
   Category_Confidence = Σ(Confidence_i) / N

4. امتیاز ترکیبی:
   Combined = Σ(Score_i × Confidence_i × Weight_i) / Σ(Confidence_i × Weight_i)

5. اعتماد نهایی:
   Final_Confidence = (Agreement × 0.6) + (Avg_Confidence × 0.4)
""")

print("\n" + "="*80)
print("✅ پایان")
print("="*80)
